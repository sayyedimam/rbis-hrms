<div class="module-view-padding">
    <section class="page-section">
        <div class="onboarding-header-section">
          <div class="header-text">
            <h2>Talent OnBoarding</h2>
            <p>Initialize new employee profiles or bulk sync via Master Excel</p>
          </div>
          <div class="header-actions">
              <button class="btn-sync" (click)="fileInputMaster.click()">
                  <i class="lucide-refresh-cw" [class.spinning]="uploadingMaster"></i>
                  <span>{{ uploadingMaster ? 'Syncing...' : 'Sync Master Excel' }}</span>
              </button>
              <input type="file" #fileInputMaster (change)="onEmployeeMasterSelected($event)" hidden accept=".xls, .xlsx">
          </div>
        </div>

        <div class="onboarding-content">
          <div class="form-card">
            <div class="card-title">
              <i class="lucide-user-plus"></i>
              <span>Manual Identity Entry</span>
            </div>

            <form (ngSubmit)="onSubmit()" #onboardForm="ngForm">
              <div class="form-grid">
                <div class="form-group">
                  <label>First Name</label>
                  <input type="text" name="firstName" [(ngModel)]="employee.first_name" (input)="onNameChange()" required placeholder="First Name">
                </div>
                <div class="form-group">
                  <label>Last Name</label>
                  <input type="text" name="lastName" [(ngModel)]="employee.last_name" (input)="onNameChange()" required placeholder="Last Name">
                </div>
                <div class="form-group full-width">
                  <label>Display Name (Full Name)</label>
                  <input type="text" name="fullName" [(ngModel)]="employee.full_name" required readonly>
                </div>
                <div class="form-group">
                  <label>Employee ID</label>
                  <input type="text" name="empId" [(ngModel)]="employee.emp_id" required readonly class="readonly-input">
                </div>
                <div class="form-group">
                  <label>Designation</label>
                  <input type="text" name="designation" [(ngModel)]="employee.designation" required placeholder="Designation">
                </div>
                <div class="form-group">
                  <label>Office Email</label>
                  <input type="email" name="email" [(ngModel)]="employee.email" required placeholder="Email">
                  <small>Auto-suggested based on name</small>
                </div>
                <div class="form-group">
                  <label>Phone Number</label>
                  <input type="text" name="phone" [(ngModel)]="employee.phone_number" required placeholder="Phone Number">
                </div>
              </div>

              <div class="form-actions">
                <button type="button" class="btn-cancel" (click)="resetForm()">Reset Fields</button>
                <button type="submit" class="btn-save" [disabled]="!onboardForm.valid || loading">
                  <span *ngIf="!loading">Confirm & OnBoard</span>
                  <span *ngIf="loading">Processing...</span>
                </button>
              </div>
            </form>
          </div>

          <!-- Info side card -->
          <div class="info-card">
            <h3>Quick Directives</h3>
            <ul>
              <li><i class="lucide-info"></i> IDs are sequentially assigned based on system logic.</li>
              <li><i class="lucide-info"></i> Master Excel updates designations and contact info for existing IDs.</li>
              <li><i class="lucide-info"></i> Onboarding triggers credentials availability for employees.</li>
            </ul>
            <div class="nav-back">
                <a routerLink="/dashboard"><i class="lucide-arrow-left"></i> Return to Analytics</a>
            </div>
          </div>
        </div>
    </section>
</div>
